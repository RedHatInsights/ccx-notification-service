<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1360px" preserveAspectRatio="none" style="width:1965px;height:1360px;" version="1.1" viewBox="0 0 1965 1360" width="1965px" zoomAndPan="magnify"><defs><filter height="300%" id="f1haksggxg4vgh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="203.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="181.5" y="85.7266"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="399.5" y="114.8594"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="607.5" y="143.9922"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="607.5" y="401.1875"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="747" y="231.3906"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="747" y="342.9219"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="40.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="936" y="467.4531"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1090" y="543.7188"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1090" y="633.1172"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="40.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1248" y="699.3828"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1388" y="775.6484"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1388" y="865.0469"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1388" y="923.3125"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="40.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1628" y="989.5781"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="174.4688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1883" y="1089.9766"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="276.1953" style="stroke: #000000; stroke-width: 2.0;" width="607.5" x="558.5" y="304.6563"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="217.9297" style="stroke: #000000; stroke-width: 2.0;" width="426" x="1024" y="594.8516"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="234.7344" style="stroke: #000000; stroke-width: 2.0;" width="429" x="1525.5" y="1051.7109"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="174.4688" style="stroke: #000000; stroke-width: 2.0;" width="409" x="1535.5" y="1104.9766"/><rect fill="#FFFFFF" height="86.0703" style="stroke: none; stroke-width: 1.0;" width="409" x="1535.5" y="1193.375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="41" x2="41" y1="54.5938" y2="1303.4453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="186" x2="186" y1="54.5938" y2="1303.4453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="404.5" x2="404.5" y1="54.5938" y2="1303.4453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="612.5" x2="612.5" y1="54.5938" y2="1303.4453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="751.5" x2="751.5" y1="54.5938" y2="1303.4453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="940.5" x2="940.5" y1="54.5938" y2="1303.4453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1095" x2="1095" y1="54.5938" y2="1303.4453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1253" x2="1253" y1="54.5938" y2="1303.4453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1393" x2="1393" y1="54.5938" y2="1303.4453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1632.5" x2="1632.5" y1="54.5938" y2="1303.4453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1887.5" x2="1887.5" y1="54.5938" y2="1303.4453"/><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="8" y="19.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="15" y="39.292">Cluster</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="8" y="1302.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="15" y="1322.4404">Cluster</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="152" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="159" y="22.9951">Ingress</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="160" y="39.292">service</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="152" y="1302.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="159" y="1322.4404">Ingress</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="160" y="1338.7373">service</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="314.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="162" x="321.5" y="22.9951">Insights-storage-broker</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="378" y="39.292">service</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="314.5" y="1302.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="162" x="321.5" y="1322.4404">Insights-storage-broker</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="378" y="1338.7373">service</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="568.5" y="19.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="575.5" y="39.292">S3 bucket</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="568.5" y="1302.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="575.5" y="1322.4404">S3 bucket</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="666.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="712.5" y="22.9951">Kafka topic</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="673.5" y="39.292">platform.upload.announce</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="666.5" y="1302.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="712.5" y="1322.4404">Kafka topic</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="673.5" y="1338.7373">platform.upload.announce</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="873.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="880.5" y="22.9951">ccx-data-pipeline</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="914.5" y="39.292">service</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="873.5" y="1302.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="880.5" y="1322.4404">ccx-data-pipeline</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="914.5" y="1338.7373">service</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="1034" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="1055.5" y="22.9951">Kafka topic</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="1041" y="39.292">ccx.ocp.results</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="1034" y="1302.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="1055.5" y="1322.4404">Kafka topic</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="1041" y="1338.7373">ccx.ocp.results</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="1171" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="146" x="1178" y="22.9951">ccx-notification-writer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="1226.5" y="39.292">service</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="1171" y="1302.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="146" x="1178" y="1322.4404">ccx-notification-writer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="1226.5" y="1338.7373">service</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="1346" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="1353" y="22.9951">Notification</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="1359" y="39.292">database</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="1346" y="1302.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="1353" y="1322.4404">Notification</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="1359" y="1338.7373">database</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="1545.5" y="19.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="1552.5" y="39.292">ccx-notification-service</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="1545.5" y="1302.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="1552.5" y="1322.4404">ccx-notification-service</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="1841.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="1848.5" y="22.9951">ServiceLog</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="1855" y="39.292">REST API</text><rect fill="#FEFECE" filter="url(#f1haksggxg4vgh)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="1841.5" y="1302.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="1848.5" y="1322.4404">ServiceLog</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="1855" y="1338.7373">REST API</text><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="203.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="181.5" y="85.7266"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="399.5" y="114.8594"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="607.5" y="143.9922"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="607.5" y="401.1875"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="747" y="231.3906"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="747" y="342.9219"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="40.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="936" y="467.4531"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1090" y="543.7188"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1090" y="633.1172"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="40.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1248" y="699.3828"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1388" y="775.6484"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1388" y="865.0469"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1388" y="923.3125"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="40.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1628" y="989.5781"/><rect fill="#FFFFFF" filter="url(#f1haksggxg4vgh)" height="174.4688" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1883" y="1089.9766"/><polygon fill="#A80036" points="169.5,81.7266,179.5,85.7266,169.5,89.7266,173.5,85.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="41.5" x2="175.5" y1="85.7266" y2="85.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="48.5" y="80.6606">send(data from IO)</text><polygon fill="#A80036" points="387.5,110.8594,397.5,114.8594,387.5,118.8594,391.5,114.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="191.5" x2="393.5" y1="114.8594" y2="114.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="198.5" y="109.7935">send(data from IO)</text><polygon fill="#A80036" points="595.5,139.9922,605.5,143.9922,595.5,147.9922,599.5,143.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="409.5" x2="601.5" y1="143.9922" y2="143.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="416.5" y="138.9263">store(data from IO)</text><polygon fill="#A80036" points="420.5,169.125,410.5,173.125,420.5,177.125,416.5,173.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="414.5" x2="611.5" y1="173.125" y2="173.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="426.5" y="168.0591">stored, path to object=XYZ</text><polygon fill="#A80036" points="202.5,198.2578,192.5,202.2578,202.5,206.2578,198.5,202.2578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="196.5" x2="403.5" y1="202.2578" y2="202.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="208.5" y="197.1919">success, path to object=XYZ</text><polygon fill="#A80036" points="735,227.3906,745,231.3906,735,235.3906,739,231.3906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="191.5" x2="741" y1="231.3906" y2="231.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="198.5" y="226.3247">produce(new data, cluster=UUID, path=XYZ)</text><polygon fill="#A80036" points="202.5,256.5234,192.5,260.5234,202.5,264.5234,198.5,260.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="196.5" x2="751" y1="260.5234" y2="260.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="208.5" y="255.4575">stored</text><polygon fill="#A80036" points="52.5,285.6563,42.5,289.6563,52.5,293.6563,48.5,289.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="46.5" x2="185.5" y1="289.6563" y2="289.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="58.5" y="284.5903">accept</text><path d="M558.5,304.6563 L635.5,304.6563 L635.5,311.6563 L625.5,321.6563 L558.5,321.6563 L558.5,304.6563 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="276.1953" style="stroke: #000000; stroke-width: 2.0;" width="607.5" x="558.5" y="304.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="573.5" y="317.7231">loop</text><polygon fill="#A80036" points="768,338.9219,758,342.9219,768,346.9219,764,342.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="762" x2="940" y1="342.9219" y2="342.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="774" y="337.856">request(get message)</text><polygon fill="#A80036" points="929,368.0547,939,372.0547,929,376.0547,933,372.0547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="752" x2="935" y1="372.0547" y2="372.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="759" y="366.9888">cluster=UUID, path=XYZ</text><polygon fill="#A80036" points="628.5,397.1875,618.5,401.1875,628.5,405.1875,624.5,401.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="622.5" x2="940" y1="401.1875" y2="401.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="634.5" y="396.1216">read_object(path=XYZ)</text><polygon fill="#A80036" points="929,426.3203,939,430.3203,929,434.3203,933,430.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="612.5" x2="935" y1="430.3203" y2="430.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="619.5" y="425.2544">data from IO</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="941" x2="988" y1="454.4531" y2="454.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="988" x2="988" y1="454.4531" y2="467.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="947" x2="988" y1="467.4531" y2="467.4531"/><polygon fill="#A80036" points="957,463.4531,947,467.4531,957,471.4531,953,467.4531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="953" y="449.3872">process(data from IO)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="946" x2="988" y1="506.5859" y2="506.5859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="988" x2="988" y1="506.5859" y2="519.5859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="941" x2="988" y1="519.5859" y2="519.5859"/><polygon fill="#A80036" points="951,515.5859,941,519.5859,951,523.5859,947,519.5859" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="953" y="501.52">rule results</text><polygon fill="#A80036" points="1078,539.7188,1088,543.7188,1078,547.7188,1082,543.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="941" x2="1084" y1="543.7188" y2="543.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="948" y="538.6528">store(rule results)</text><polygon fill="#A80036" points="952,568.8516,942,572.8516,952,576.8516,948,572.8516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="946" x2="1094" y1="572.8516" y2="572.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="958" y="567.7856">stored</text><path d="M1024,594.8516 L1101,594.8516 L1101,601.8516 L1091,611.8516 L1024,611.8516 L1024,594.8516 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="217.9297" style="stroke: #000000; stroke-width: 2.0;" width="426" x="1024" y="594.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="1039" y="607.9185">loop</text><polygon fill="#A80036" points="1111,629.1172,1101,633.1172,1111,637.1172,1107,633.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1105" x2="1252" y1="633.1172" y2="633.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="1117" y="628.0513">request(get results)</text><polygon fill="#A80036" points="1241,658.25,1251,662.25,1241,666.25,1245,662.25" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1095" x2="1247" y1="662.25" y2="662.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="1102" y="657.1841">here are rule results</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1253" x2="1300" y1="686.3828" y2="686.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1300" x2="1300" y1="686.3828" y2="699.3828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1259" x2="1300" y1="699.3828" y2="699.3828"/><polygon fill="#A80036" points="1269,695.3828,1259,699.3828,1269,703.3828,1265,699.3828" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="1265" y="681.3169">validate(rule resuls)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1258" x2="1300" y1="738.5156" y2="738.5156"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1300" x2="1300" y1="738.5156" y2="751.5156"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1253" x2="1300" y1="751.5156" y2="751.5156"/><polygon fill="#A80036" points="1263,747.5156,1253,751.5156,1263,755.5156,1259,751.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="1265" y="733.4497">validated</text><polygon fill="#A80036" points="1376,771.6484,1386,775.6484,1376,779.6484,1380,775.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1253" x2="1382" y1="775.6484" y2="775.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="1260" y="770.5825">store(rule results)</text><polygon fill="#A80036" points="1264,800.7813,1254,804.7813,1264,808.7813,1260,804.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1258" x2="1392" y1="804.7813" y2="804.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="1270" y="799.7153">stored</text><polygon fill="#A80036" points="1409,861.0469,1399,865.0469,1409,869.0469,1405,865.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1403" x2="1632" y1="865.0469" y2="865.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="1415" y="859.981">request(read new results)</text><polygon fill="#A80036" points="1621,890.1797,1631,894.1797,1621,898.1797,1625,894.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1393" x2="1627" y1="894.1797" y2="894.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="1400" y="889.1138">here are new results</text><polygon fill="#A80036" points="1409,919.3125,1399,923.3125,1409,927.3125,1405,923.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1403" x2="1632" y1="923.3125" y2="923.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="1415" y="918.2466">request(read reported results)</text><polygon fill="#A80036" points="1621,948.4453,1631,952.4453,1621,956.4453,1625,952.4453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1393" x2="1627" y1="952.4453" y2="952.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="1400" y="947.3794">here are already reported results</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1633" x2="1680" y1="976.5781" y2="976.5781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1680" x2="1680" y1="976.5781" y2="989.5781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1639" x2="1680" y1="989.5781" y2="989.5781"/><polygon fill="#A80036" points="1649,985.5781,1639,989.5781,1649,993.5781,1645,989.5781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="241" x="1645" y="971.5122">find_diff(reported results, new results)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1638" x2="1680" y1="1028.7109" y2="1028.7109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1680" x2="1680" y1="1028.7109" y2="1041.7109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1633" x2="1680" y1="1041.7109" y2="1041.7109"/><polygon fill="#A80036" points="1643,1037.7109,1633,1041.7109,1643,1045.7109,1639,1041.7109" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="19" x="1645" y="1023.645">diff</text><path d="M1525.5,1051.7109 L1602.5,1051.7109 L1602.5,1058.7109 L1592.5,1068.7109 L1525.5,1068.7109 L1525.5,1051.7109 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="234.7344" style="stroke: #000000; stroke-width: 2.0;" width="429" x="1525.5" y="1051.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="1540.5" y="1064.7778">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="1617.5" y="1063.9214">[for all new reports]</text><polygon fill="#A80036" points="1871,1085.9766,1881,1089.9766,1871,1093.9766,1875,1089.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1633" x2="1877" y1="1089.9766" y2="1089.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="1640" y="1084.9106">notify(one new report)</text><path d="M1535.5,1104.9766 L1599.5,1104.9766 L1599.5,1111.9766 L1589.5,1121.9766 L1535.5,1121.9766 L1535.5,1104.9766 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="174.4688" style="stroke: #000000; stroke-width: 2.0;" width="409" x="1535.5" y="1104.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="1550.5" y="1118.0435">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="1614.5" y="1117.187">[success (200 OK)]</text><polygon fill="#A80036" points="1644,1139.2422,1634,1143.2422,1644,1147.2422,1640,1143.2422" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1638" x2="1882" y1="1143.2422" y2="1143.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="1650" y="1138.1763">accepted</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1633" x2="1675" y1="1172.375" y2="1172.375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1675" x2="1675" y1="1172.375" y2="1185.375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1634" x2="1675" y1="1185.375" y2="1185.375"/><polygon fill="#A80036" points="1644,1181.375,1634,1185.375,1644,1189.375,1640,1185.375" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="1640" y="1167.3091">update DB</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1535.5" x2="1944.5" y1="1194.375" y2="1194.375"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="52" x="1540.5" y="1204.5854">[failure]</text><polygon fill="#A80036" points="1644,1225.3125,1634,1229.3125,1644,1233.3125,1640,1229.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1638" x2="1882" y1="1229.3125" y2="1229.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="1650" y="1224.2466">rejected</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1633" x2="1675" y1="1263.4453" y2="1263.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1675" x2="1675" y1="1263.4453" y2="1276.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1628" x2="1675" y1="1276.4453" y2="1276.4453"/><polygon fill="#A80036" points="1638,1272.4453,1628,1276.4453,1638,1280.4453,1634,1276.4453" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="1640" y="1258.3794">log error</text><!--MD5=[5eab9a6222ca93945152d6aee7d18d01]
@startuml
participant Cluster
participant "Ingress\nservice"
participant "Insights-storage-broker\nservice"
participant "S3 bucket"
participant "Kafka topic\nplatform.upload.announce"
participant "ccx-data-pipeline\nservice"
participant "Kafka topic\nccx.ocp.results"
participant "ccx-notification-writer\nservice"
participant "Notification\ndatabase"
participant "ccx-notification-service"
participant "ServiceLog\nREST API"

Cluster -> "Ingress\nservice" : send(data from IO)
activate "Ingress\nservice"
"Ingress\nservice" -> "Insights-storage-broker\nservice" : send(data from IO)
activate "Insights-storage-broker\nservice"
"Insights-storage-broker\nservice" -> "S3 bucket" : store(data from IO)
activate "S3 bucket"
"Insights-storage-broker\nservice" <- - "S3 bucket": stored, path to object=XYZ
deactivate "S3 bucket"
"Ingress\nservice" <- - "Insights-storage-broker\nservice": success, path to object=XYZ
deactivate "Insights-storage-broker\nservice"
"Ingress\nservice" -> "Kafka topic\nplatform.upload.announce" : produce(new data, cluster=UUID, path=XYZ)
activate "Kafka topic\nplatform.upload.announce"
"Ingress\nservice" <- - "Kafka topic\nplatform.upload.announce": stored
deactivate "Kafka topic\nplatform.upload.announce"
Cluster <- - "Ingress\nservice": accept
deactivate "Ingress\nservice"
loop
"ccx-data-pipeline\nservice" -> "Kafka topic\nplatform.upload.announce" : request(get message)
activate "Kafka topic\nplatform.upload.announce"
"ccx-data-pipeline\nservice" <- - "Kafka topic\nplatform.upload.announce": cluster=UUID, path=XYZ
deactivate "Kafka topic\nplatform.upload.announce"
"ccx-data-pipeline\nservice" -> "S3 bucket" : read_object(path=XYZ)
activate "S3 bucket"
"ccx-data-pipeline\nservice" <- - "S3 bucket": data from IO
deactivate "S3 bucket"
"ccx-data-pipeline\nservice" -> "ccx-data-pipeline\nservice" : process(data from IO)
activate "ccx-data-pipeline\nservice"
"ccx-data-pipeline\nservice" <- - "ccx-data-pipeline\nservice": rule results
deactivate "ccx-data-pipeline\nservice"
"ccx-data-pipeline\nservice" -> "Kafka topic\nccx.ocp.results" : store(rule results)
activate "Kafka topic\nccx.ocp.results"
"ccx-data-pipeline\nservice" <- - "Kafka topic\nccx.ocp.results": stored
deactivate "Kafka topic\nccx.ocp.results"
end
loop
"ccx-notification-writer\nservice" -> "Kafka topic\nccx.ocp.results" : request(get results)
activate "Kafka topic\nccx.ocp.results"
"ccx-notification-writer\nservice" <- - "Kafka topic\nccx.ocp.results": here are rule results
deactivate "Kafka topic\nccx.ocp.results"
"ccx-notification-writer\nservice" -> "ccx-notification-writer\nservice" : validate(rule resuls)
activate "ccx-notification-writer\nservice"
"ccx-notification-writer\nservice" <- - "ccx-notification-writer\nservice": validated
deactivate "ccx-notification-writer\nservice"
"ccx-notification-writer\nservice" -> "Notification\ndatabase" : store(rule results)
activate "Notification\ndatabase"
"ccx-notification-writer\nservice" <- - "Notification\ndatabase": stored
deactivate "Notification\ndatabase"
end
loop
"ccx-notification-service" -> "Notification\ndatabase" : request(read new results)
activate "Notification\ndatabase"
"ccx-notification-service" <- - "Notification\ndatabase": here are new results
deactivate "Notification\ndatabase"
"ccx-notification-service" -> "Notification\ndatabase" : request(read reported results)
activate "Notification\ndatabase"
"ccx-notification-service" <- - "Notification\ndatabase": here are already reported results
deactivate "Notification\ndatabase"
"ccx-notification-service" -> "ccx-notification-service" : find_diff(reported results, new results)
activate "ccx-notification-service"
"ccx-notification-service" <- - "ccx-notification-service": diff
deactivate "ccx-notification-service"
loop for all new reports
"ccx-notification-service" -> "ServiceLog\nREST API" : notify(one new report)
activate "ServiceLog\nREST API"
alt success (200 OK)
"ccx-notification-service" <- - "ServiceLog\nREST API": accepted
"ccx-notification-service" -> "ccx-notification-service": update DB
else failure
"ccx-notification-service" <- - "ServiceLog\nREST API": rejected
"ccx-notification-service" -> "ccx-notification-service": log error
deactivate "ServiceLog\nREST API"
end
end
@enduml

PlantUML version 1.2019.12(Sun Nov 03 11:24:54 CET 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.15+10-Ubuntu-0ubuntu0.20.04.1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>